# Better results after I figured out proper use of pragmas in code

#
# OpenMP 12 thread, n=500, epsilon = 1e-6, maxiter = 100k, c=100
#

45300, 0.0000010729
45400, 0.0000010729
45500, 0.0000010729

Iteration Complete. Total Iterations: 45568, Time Elapsed: 64.691038 (s)
Writing to "output.csv" ...

#
# OpenMP 12 thread, n=200, epsilon = 1e-6, maxiter = 100k, c=100
# reduction(max: error)

9900, 0.0000011921
10000, 0.0000011921
10100, 0.0000010729

Iteration Complete. Total Iterations: 10171, Time Elapsed: 2.388846 (s)
Writing to "output.csv" ...

#
# CPU single thread, n=200, epsilon = 1e-6, maxiter = 100k
#

9900, 0.0000011921
10000, 0.0000011921
10100, 0.0000010729

Iteration Complete. Time Elapsed: 6.976818 (s)
Writing to "output.csv" ...

#
# OpenMP 12 thread, n=200, epsilon = 1e-6, maxiter = 100k, c=100
# no reduction

9900, 0.0000011921
10000, 0.0000011921
10100, 0.0000010729

Iteration Complete. Total Iterations: 10155, Time Elapsed: 7.495504 (s)
Writing to "output.csv" ...

tiger@jungle ~/Projects/Assorted/OpenACC Intro $ g++ -Wall -ansi -pedantic -fPIC -std=c++11 relax.cc -o relax -fopenmp -lpthread -D OPENMP
tiger@jungle ~/Projects/Assorted/OpenACC Intro $ ./relax -n=50
Initialization Complete. Starting iteration...

0, 0.5000000000
100, 0.0031499565
200, 0.0012370348
300, 0.0004518032
400, 0.0001630187
500, 0.0000587106
600, 0.0000212193
700, 0.0000076294
800, 0.0000028014
900, 0.0000010133
Iteration Complete. Total Iterations: 904, Time Elapsed: 0.049459 (s)
Writing to "output.csv" ...

tiger@jungle ~/Projects/Assorted/OpenACC Intro $ ./relax -n=20
Initialization Complete. Starting iteration...

0, 0.5000000000
100, 0.0001245141
Iteration Complete. Total Iterations: 182, Time Elapsed: 0.030710 (s)
Writing to "output.csv" ...

tiger@jungle ~/Projects/Assorted/OpenACC Intro $ g++ -Wall -ansi -pedantic -fPIC -std=c++11 relax.cc -o relax
tiger@jungle ~/Projects/Assorted/OpenACC Intro $ ./relax -n=50
Initialization Complete. Starting iteration...

0, 0.5000000000
100, 0.0031499565
200, 0.0012370348
300, 0.0004518032
400, 0.0001630187
500, 0.0000587106
600, 0.0000212193
700, 0.0000076294
800, 0.0000028014
900, 0.0000010133
Iteration Complete. Time Elapsed: 0.094551 (s)
Writing to "output.csv" ...

tiger@jungle ~/Projects/Assorted/OpenACC Intro $ ./relax -n=20
Initialization Complete. Starting iteration...

0, 0.5000000000
100, 0.0001245141
Iteration Complete. Time Elapsed: 0.003311 (s)
Writing to "output.csv" ...

#
# OpenMP 12 thread, n=1000, epsilon = 1e-6, maxiter = 100k, c=100
# reduction(max: error)
#

127200, 0.0000010729
127300, 0.0000010729
127400, 0.0000010133

Iteration Complete. Total Iterations: 127460, Time Elapsed: 668.512768 (s)
Writing to "output.csv" ...

#
# OpenMP 12 thread, n=300, epsilon = 1e-6, maxiter = 100k, c=100
# reduction(max: error)
#

19800, 0.0000011325
19900, 0.0000010729
20000, 0.0000010729
Iteration Complete. Total Iterations: 20029, Time Elapsed: 10.755093 (s)
Writing to "output.csv" ...

#
# CPU single thread, n=300, epsilon = 1e-6, maxiter = 100k
#

19800, 0.0000011325
19900, 0.0000010729
20000, 0.0000010729

Iteration Complete. Total Iterations: 20029, Time Elapsed: 31.077145 (s)
Writing to "output.csv" ...


#
# OpenACC First attempt n=200
#

9900, 0.0000011921
10000, 0.0000011921
10100, 0.0000010729
Iteration Complete. Total Iterations: 10171, Time Elapsed: 465.628510 (s)
Writing to "output.csv" ...

# suuuper bad. only using #pragma acc kernels, and parallel independnent Very likely something shitty going on with mem copies, etc and atomics, will check.
